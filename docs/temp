LEVEL LOGIC

{You are nearing the cap for bankable xp, consider 'meta' or 'gain' now.}

#alias doMetaOrGain {
	#if { $MSDP_EXPERIENCE_TNL < 0 } {
		#if {$MSDP_LEVEL < @getMaxRemortLevel{}} { gogain } { checkNobPoints }
	};#else {
		returntostart;
	}
}

#alias checkNobPoints {
		#if { $MSDP_HERO_POINTS_TNL < 0} { goGain } { doMeta }
}

#alias goGain {
	recall;
	home;
	with $goldlevel[$MSDP_LEVEL];
	Go to guild;
	gain;
	doMetaOrGain;
}

#alias doMeta {
	Go to meta shop
	With gold
	Remove equipment
	levelreq (+3 levels)
	autometa
	Done return to original location - Walk/Tell
}



#var autowalkspeed 0,5;
#var botAction 0;
#var waypointdelay 10;
#var autowalk 1;
#var waypoints {3062,14108}
#list waypoints explode ,

#alias walkTo {
	#show <131>WALKTO CALLED- STARTING FROM WAYPOINT;
	#list waypoints get 1 destination;
	takeStep;
}

#alias takeStep {
	#if {$MSDP_ROOM_VNUM==$destination} {
		#show <131>WE ARE ALREADY AT DESTINATION;
	};#else {
		#if {$botAction==0} {
			#show <131>CurrentRoomNum (COMING FROM): $MSDP_ROOM_VNUM;
			#map find $destination;
			#path map;
			#path get length path_length;
			#show <131>$path_length;
			#if {$path_length>0} {
				#show <131>We move on;
				#path walk
		};#else {
			#show <131>THERE ARE ACTIONS WE NEED TO DEAL WITH
		}
	}
}

#alias room_event {
	#show <131>New ROOM detected $MSDP_ROOM_VNUM;
	#if {$MSDP_ROOM_VNUM==$destination} {
		#show <131>WE HAVE ARRIVED;
		getNextDestination
	}; #elseif {$destination>0} {
		#show <131>Still not there;
		#if { ($autowalk && $botAction==0)}  {#delay $autowalkspeed {#show <131>AUTOWALK;takeStep}}
	}; #else {
		#nop;
	}
}

#alias getNextDestination {
	#list waypoints delete 1;
	#show <142>GET NEXT DESTINATION <&waypoints[]> left;
	#if {&waypoints[]>0} {
		#show <142>Next route starting in $waypointdelay secs;
		#delay $waypointdelay {walkTo}
	};#else {
		#show <131>NO MORE WAYPOINT - FINAL DESTINATION;
		#var destination {};
	}
}

#action {A small pile of gold coins lies here.} {#show <131>WE NEED TO ACT STOP WALKING;#var botAction 0}



prompt exp
toggle brief


#ac {A swordswoman is here, practicing with her blade.} {ba sword} 1
#ac {A foul-smelling goblin skulks about, avoiding your gaze.} {ba goblin} 1
#ac {A small kobold tries to look tough as he prepares for a fight.} {ba kobol} 1
#ac {An evil cleric preaches to the masses about her dark gods.} {ba cleric} 1

#ac {A man dressed in robes of the blackest night tries to animate a corpse.} {ba necromancer} 2-4
#ac {A princess from the drow underworld stares at you coldly.} {ba princess} 2-4
#ac {A decrepit old hag cackles wickedly as she prepares something gruesome.} {ba hag} 2-4
#ac {A man stands back in the shadows, observing the others in silence.} {ba assa} 2-4
#ac {A female guest is here half passed out in her chair.} {ba guest} 5-6
#ac {A male guest is here half passed out in his chair.} {ba guest} 5-6
#ac {A lady is here flirting with the guys.} {ba lady} 7-8
#ac {A guy is here flirting with the gals.} {ba guy} 7-8
#ac {xxxxxxxx} {ba xxxx}
#ac {xxxxxxxx} {ba xxxx}
#ac {xxxxxxxx} {ba xxxx}
#ac {xxxxxxxx} {ba xxxx}


